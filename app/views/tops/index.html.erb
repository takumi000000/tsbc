<%= javascript_include_tag "https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" %>
<div class="container">
<h1 class="text-center survey-header">授業に関するアンケート</h1>

<div class="alert alert-secondary" role="alert">
  このアンケートは、今後の授業内容をよりよく改善することを目的として、<br>
  学校全体に関することや授業の担当教師についての感想を聞くものです。<br><br>
  〇1～15の質問について右にある回答欄のあてはまるものをクリックしてください。<br>
  〇自分が授業を受けている教師名を選択してください。<br>
  〇直接にそして率直に答えてください。<br><br>
  アンケート集計結果に関しては、学校を挙げて改善していきます。
</div>

<%= form_with(url: start_survey_path, method: :post, local: true) do |f| %>
  <div class="mb-3">
    <%= f.label :student_number, "学籍番号を入力して下さい。" %><span style="color:red">必須</span>
    <%= f.text_field :student_number, class: "form-control", placeholder: "例)JR2400", required: true %>
  </div>

  <div class="mb-3">
  <%= f.label :department, "学科名を選択して下さい。" %><span class="text-danger">必須</span>
  <%= f.select :department,
        options_from_collection_for_select(@subjects, :c_code, :name),
        { prompt: "学科を選択" },
        class: "form-select",
        id:    "department-select",
        required: true %>
  </div>

  <div class="mb-3">
    <%= f.label :course, "コース名を選択して下さい。" %><span class="text-danger">必須</span>
    <%= f.select :course, [],
        { prompt: "コースを選択" },
        class: "form-select",
        id:    "course-select",
        required: true %>
  </div>

  <div class="mb-3">
    <%= f.label :grade, "学年を選択して下さい。" %><span style="color:red">必須</span>
    <%= f.select :grade, options_for_select([["1年", 1], ["2年", 2]]), 
      {}, class: "form-select" %>
  </div>

  <div class="d-flex justify-content-between mt-4">
    <%= button_tag "終了", type: "button", class: "btn btn-outline-secondary", 
        onclick: "window.close();" %>
    <%= f.submit "決定", class: "btn btn-primary" %>
  </div>
<% end %>

  <div class="survey-ver">
    Ver.2025.02
    <% pg = "Takumi Shimohashi" %>
  </div>
</div>

